# Desdoc Roguelike
## Общие сведения:
Игра в жанре Roguelike. Главный герой передвигается по карте с комнатами, в которых случайным образом появляются враги. Герой должен мужественно сразиться со всеми врагами, чтобы в конечном итоге выиграть. Ему в этом помогают различного рода атрибуты, повышающие и понижающие характеристики героя. Герой кладет их в свой рюкзак, чтобы при случае воспользоваться. 

+ Управление героем:
+ Передвижение: стрелки влево, вправо, вверх, вниз
+ Выбрать атрибут из рюкзака: 
  + space -- для открытия рюкзака;
  + -> -- для прокрутки атрибутов;
  +  Enter -- выбор атрибута

### Герои:
#### Главный герой: крот (@).
#### Враги:
+ Собака-замлекоп (D): постоянно гонятеся за кротом, с ней можно сразиться, если у героя  достаточный уровень здоровья, брони и мощи.
+ Лопата (S): пытается случайно впотьмах встать на пути крота. Ее можно поломать, если у героя достаточно силы, здоровья, и его защищает бронебойный шлем.

### Атрибуты:

+ Камень (*) - значительно повышает мощь при атаке, но немного ухудшает броню;
+ Шлем (^) - улучшает броню, но немного уменьшает мощь (потому что он тяжелый);
+ Червяк (w) - повышает уровень здоровья.


 
# Architectural drivers:
+ В ТЗ требовалось реализовать игру с консольной графикой: для отрисовки использовалась библиотека libjcsi, так как она имеет довольно понятный API и хорошую документацию. Также требовалось реализовать возможность сделать графический тайловый интерфейс: это довольно просто сделать, так как вся работа с отрисовкой отведена одному классу, поэтому изменения будут  локальными.
+ Также требовалось реализовать логирование основных событий в игре: для логирования использовалась библиотека LOG4j2.
# Роли и случаи использования:
+ Имя: Корельский Сеня  

   Возраст: 14 лет  
   
   Образование: учится в девятом классе  
   
   Описание: любит прогуливать уроки и проводить время за компьютерными играми.  
   
   Особенности использования: поиграл, потому что все остальные игры уже 	надоели.  
   
+ Имя: Иванова Катя  

   Возраст: 20 лет  
   
   Описание: увлекается играми вроде Рогаликов, притом ей интересен не столько 	процесс игры, сколько интересные решения, принятые разработчиком при ее написании.  
   
   Особенности использования: поиграла, чтобы найти в игровом процессе для себя что-нибудь интересное с точки зрения разработчика.  
   
+ Имя: Иванов Василий Васильевич  

   Возраст: 50 лет  
   
   Описание: преподаватель на физическом факультете, очень любит повспоминать 	времена 20-летней давности и поиграть в консольные игры.  
   
   Особенности использования: поиграл в игру, так как она полностью 	удовлетворяет его любви к консольным несложным играм.
   



# Композиция:  
Имеются три компоненты:  
+ GameController отвечает за отрисовку карты и взаимодействие с пользователем, а также управляет основным ходом игры.
+ MapLocationController отвечает за координатное положение игровых объектов, за положение их относительно друг друга.
+ GameObjects отвечает за логику поведения игровых объектов: за их взаимодействие, независимое поведение. 
![Component diagram](https://github.com/angelikamukhina/SDHomeTasks/blob/desdoc/Desdoc/ComponentDiagram.jpg)

# Логическая структура:
Основной класс игры, отвечающий за ее ход - класс Game, в нем находится точка входа. Данный класс также регулирует взаимодействие с пользователем, генерацию карты.  

Класс UI обеспечивает отрисовку карты, взаимодействие с пользователем.  
Класс Map отвечает за генерацию карты.  
Класс Cell обеспечивает координатное взаимодействие игровых объектов. Хранит их координатную привязку.  
Класс Character является абстрактным и описывает типичное повдение и характеристики главных героев игры.
Класс Mole - объект данного класса является главным героем игры. 
Классы врагов - Dog, Shovel.
![Class diagram](https://github.com/angelikamukhina/SDHomeTasks/blob/desdoc/Desdoc/ClassDiagram.jpg)

# Взаимодействия и состояния:
## Диаграмма конечных автоматов:  
![DFA diagram](https://github.com/angelikamukhina/SDHomeTasks/blob/desdoc/Desdoc/DFADiagram.jpg)
## Диаграмма последовательности:  
При старте игры запускается Game, он получает экземляр класса Map, который при создании генерирует карту. После этого Game запрашивает у пользователя имя главного героя, после чего создается объект класса Mole - главный герой. Затем на карте генерируются случайным образом атрибуты в заданном количестве, аналогично - враги.  

В основном ходе игры Game получает от пользователя направление движения главного героя, Game узнает у Map, что находится на новой позиции. Если там атрибут, то главный герой кладет его в рюкзак, если там враг, то атакует его.  
Если пользователь запросил открыть меню атрибутов - OpenMoleBackpack, то Game получает состояние рюкзака главного героя и показывает его пользователю. После этого пользователь выбирает, какой атрибут он хочет надеть, либо он может попросить главного героя снять атрибут, который есть сейчас на нем. 

![Sequence diagram](https://github.com/angelikamukhina/SDHomeTasks/blob/desdoc/Desdoc/sequenceDiagram.jpg)
